<!doctype html>
<html lang=en >
<head>
<title>algeSurf Marching Cubes UI R1</title>
<meta charset=utf-8 />
<meta name=viewport content='width=device-width,user-scalable=no,minimum-scale=1.0,maximum-scale=1.0' />
</head>
<body>
<script src=surfaces.js ></script>
<script>

	init();

	function init() {

		var css = document.body.appendChild( document.createElement('style') );
		css.innerHTML = 'body { font: 600 12pt monospace; margin: 0; overflow: hidden; }' +
			'h1, a { margin: 0; }' +
			'#i { text-decoration: none; }' +
		'';

		var menu = document.body.appendChild( document.createElement( 'div' ) );
		menu.style.cssText = 'margin: 0 20px; position: absolute;';
		menu.innerHTML = '<h2>' +
				'<a href="" >' + document.title + '</a> ' +
				'<a id=i href=http://jaanga.github.io/algesurf/ >&#x24D8;</a>' +
			'</h2>' +
			'<p>Select a different equation' +
			'<br><select id=selEquation ></p>';
			'<div id=messages></div>' +
		'';

		keys = Object.keys( surfaces );
		offset = 0;
		for ( var i = 0; i < keys.length ; i++ ) {

/*
			if (i == 0) {
				selEquation.appendChild( document.createElement( 'optgroup' ) );
				selEquation.children[ i ].label = 'Hauser 1';
				offset++;
			} else if ( i == 37) {

				selEquation.appendChild( document.createElement( 'optgroup' ) );
				selEquation.children[ i ].label = 'Hauser 2';
				offset++;
			} else if ( i == 74 ) {
				selEquation.appendChild( document.createElement( 'optgroup' ) );
				selEquation.children[ i ].label = 'Jalape';
				offset++;
			} else if ( i == 85 ) {
//				htm += '</optgroup><optgroup label="Sing Surf">';
				selEquation.appendChild( document.createElement( 'optgroup' ) );
				selEquation.children[ i ].label = 'Sing Surf';
				offset++;
			}
*/
				selEquation.appendChild( document.createElement( 'option' ) );
				selEquation.children[ i ].text = keys[ i ];


		}

		selEquation.selectedIndex = 3;
		selEquation.onchange = updateEquation;

		ifr = document.body.appendChild( document.createElement( 'iframe' ) );
		ifr.width = window.innerWidth;
		ifr.height = window.innerHeight;
		ifr.style.cssText = 'border: 0px solid red; margin: 0; overflow: hidden; ';

	//	ifr.style.cssText = 'height: ' + (window.innerHeight - 50) + 'px; left: 300px; position: absolute; top: 5px; width: ' + (window.innerWidth - 350) + 'px; ';
		ifr.src = 'algesurf-marching-cubes-api-r1.html';


	}

	function updateEquation() {
		eq = surfaces[ this.value ].eqn.replace( / /gi, '' );

		ifr.src = 'algesurf-marching-cubes-api-r1.html#' + eq;

console.log( this.value, eq );

	}

</script>
</body>
</html>